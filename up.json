{
  "name": "rickcogley-logr",
  "stages": {
    "staging": {
      "domain": "staging.logr.cogley.info"
    },
    "production": {
      "domain": "logr.cogley.info",
      "lambda": {
        "warm": true
      }
    }
  },
  "type": "static",
  "static":{
    "dir": "public"
  },
  "tags": {
    "Owner": "RickCogley",
    "AppName": "RickCogleyLogr",
    "PoweredBy": "ApexUp"
  },
  "profile": "apex-up-esolia",
  "regions": [
    "ap-northeast-1"
  ],
  "error_pages": {
    "enable": true,
    "variables": {
      "support_email": "rick@cogley.jp",
      "color": "#228ae6"
    }
  },
  "actions": [
    {
      "name": "email.backend",
      "type": "email",
      "emails": ["rick.cogley@esolia.co.jp"]
    }
  ],
  "alerts": [
    {
      "metric": "http.count",
      "statistic": "sum",
      "threshold": 100,
      "action": "email.backend"
    },
    {
      "metric": "http.5xx",
      "statistic": "sum",
      "threshold": 1,
      "period": "1m",
      "action": "email.backend"
    },
    {
      "metric": "http.4xx",
      "statistic": "sum",
      "threshold": 50,
      "period": "5m",
      "action": "email.backend"
    },
    {
      "metric": "http.latency",
      "statistic": "avg",
      "threshold": 1000,
      "period": "5m",
      "action": "email.backend",
      "description": "Large traffic spike"
    }
  ]
}
